Chain of Verification Prompt for Entity-Relationship Extraction
Task
Given a text document, identify all entities and their entity types, then extract relationships among the identified entities as entity-relation triplets.
Entity Types Reference
<entity>CARDINAL</entity><meaning>cardinal value</meaning><example>1, 2, 3, ...</example>
<entity>DATE</entity><meaning>date value</meaning><example>2023-12-25, January 1st</example>
<entity>EVENT</entity><meaning>event name</meaning><example>Super Bowl, Olympics</example>
<entity>FAC</entity><meaning>building name</meaning><example>Empire State Building, Eiffel Tower</example>
<entity>GPE</entity><meaning>geo-political entity</meaning><example>United States, France</example>
<entity>LANGUAGE</entity><meaning>language name</meaning><example>English, Spanish</example>
<entity>LAW</entity><meaning>law name</meaning><example>Constitution, Copyright Act</example>
<entity>LOC</entity><meaning>location name</meaning><example>New York City, Paris</example>
<entity>MONEY</entity><meaning>money name</meaning><example>dollar, euro</example>
<entity>NORP</entity><meaning>affiliation</meaning><example>Republican, Democrat</example>
<entity>ORDINAL</entity><meaning>ordinal value</meaning><example>first, second, third</example>
<entity>ORG</entity><meaning>organization name</meaning><example>NASA, Google</example>
<entity>PERCENT</entity><meaning>percent value</meaning><example>50%, 75%</example>
<entity>PERSON</entity><meaning>person name</meaning><example>John Doe, Jane Smith</example>
<entity>PRODUCT</entity><meaning>product name</meaning><example>iPhone, MacBook</example>
<entity>QUANTITY</entity><meaning>quantity value</meaning><example>10, 20</example>
<entity>TIME</entity><meaning>time value</meaning><example>12:00 PM, 5:30 AM</example>
<entity>WORK_OF_ART</entity><meaning>name of work of art</meaning><example>Mona Lisa, Star Wars</example>
Chain of Verification Process
Step 1: Initial Entity Extraction
Action: Identify all entities in the text
Verification:

Have I identified entities of all applicable types from the entity types list?
Are entity names correctly extracted and capitalized?
Have I assigned the correct entity type to each entity based on the examples provided?

Example:

Text: "John Smith visited Paris on January 15th"
Entities: John Smith (PERSON), Paris (GPE), January 15th (DATE)

Draft: Create initial entity list
Step 2: Entity List Verification
Action: Review and refine entity list
Verification:

Are there duplicate entities that should be merged?
Have I standardized variant names for the same entity?
Is each entity properly categorized according to the entity type schema?
Do my classifications match the examples provided?

Example Check:

"NYC" and "New York City" → Consolidate as "New York City" (GPE)
"50 percent" → "50%" (PERCENT)

Revise: Consolidate and correct entity list
Step 3: Relationship Identification
Action: Identify pairs of related entities
Verification:

Is there clear textual evidence supporting this relationship?
Can I articulate why these entities are related?
Is the relationship direction (source → target) correct?

Example:

("John Smith", "Paris", "visited", "John Smith traveled to Paris")

Draft: Create relationship triplets
Step 4: Relationship Verification
Action: Review each relationship triplet
Verification:

Is the relationship description accurate and supported by the text?
Have I used a specific, meaningful relation label?
Are both entities in the relationship present in my entity list?
Have I avoided vague or unsupported relationships?

Example Format:

✓ Good: ("NASA", "Mars Mission", "launched", "NASA launched the Mars Mission in 2024")
✗ Poor: ("NASA", "Mars", "related", "They are related")

Revise: Refine relationship triplets
Step 5: Completeness Check
Action: Review entire output
Verification:

Have I extracted the requested number of triplets?
Are all triplets formatted correctly as ("source_entity", "target_entity", "relation", "relationship_description")?
Have I included only the requested output format?
Do the relationships capture the key information in the text?

Finalize: Output verified triplets
Output Format
Each triplet must follow this exact format:
("source_entity", "target_entity", "relation", "relationship_description")
Example Output:
("Sergey Tolchenov", "Russia", "represents", "Sergey Tolchenov is Russia's Ambassador, representing Russia.")
("Sergey Tolchenov", "Indonesia", "is_ambassador_to", "Sergey Tolchenov holds the position of Russia's Ambassador to Indonesia.")
Final Instructions

Output only the relationship triplets
No additional formatting, headers, or explanations
Each relationship on a new line
